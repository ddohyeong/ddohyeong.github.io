---
title: MSA를 사용하는 이유?
categories:
  - Spring
  - MSA
tags:
  - MSA
toc: true
toc_sticky: true
date: 2024-04-21
---
# MSA란
> Micro Service Architecture
> 소프트웨어 시스템을 여러 작은 독립적인 서비스로 분할하여 개발하고 배포하는 방식

## MSA 등장
> [!tip] 모놀리식 아키텍처에서 한계점을 보완하고자 고안된 아키텍처라 생각함

### 모놀리식 아키텍처란? 
> 모든 구성요소가 한 프로젝트에 통합된 서비스

소규모 프로젝트에서는 모놀리식 아키텍처가 간단하지만 일정규모가 넘어가면 많은 한계점에 봉착한다. 

**모놀리식 아키텍처의 문제점**
- 한곳에서 에러가 발생하면 프로그램이 전체적으로 문제가 발생
- 모든 서비스가 연결되어 있기 때문에 하나의 서비스를 분할하기 힘듦
	- 배민을 예를 든다면 주문 부분에서 에러가 발생하면 배달 부분까지 에러가 발생함
🤔 정리하자면
- 부분 장애가 전체 서비스의 장애로 확대
- 전체 시스템 구조 파악이 어려움
- 수정시 사이드 이펙트에 대한 파악이 힘듦
- 빌드 시간 및 테스트, 배포 시간의 급증
- 서비스의 특정 부분만 스케일 아웃 하기 어려움

**🧑🏻‍💻 이러한 모놀리식의 한계를 바탕으로 MSA가 등장하게 되었다.** 


# MSA 장점
- 모놀리식의 단점인 부분 장애가 전체 서비스의 장애로 이어지지 않음 
- 서비스를 하면서 개별 배포가 가능하다. 즉 사용자는 배포를 하는지 몰라도 됨
- 특정 서비스에 확장이 유연
	- 특정 서비스만 다른 기술을 사용할 수 있음
		- 예를 들어 주문은 express.js 프레임워크 , 배송은Spring프레임워크 이런식으로 가능
	- 클라우드 기반 서비스와 적합함 
	- 예를 들어 사용자가 많아지면 서버를 증설하여 대응을 빠르게 할 수 있음

# MSA 단점
- 설계가 어려움
	- 서비스가 모두 분산되어 있기에 내부 시스템 통신을 어떻게 가져가야 할지 선택
	- 통신의 장애 등
- 성능 
	- 서비스간 호출 시 API를 호출해야 함
- 데이터 관리 
	- 여러 서비스에 분산되어 있기에 조회가 어려움 

**MSA 사용하는 이유**
🧑🏻‍💻 장단점이 분명히 알고 프로젝트에 알맞게 사용하는게 좋다. 필자는 학습을 위한 프로젝트를 위해서 MSA 아키텍처를 사용하였다. 이유는 프로젝트서 여러 서비스를 제공하고자 하였고 하나의 서비스가 장애가 있더라도 다른 서비스는 문제가 발생하지 않는 MSA의 장점을 이용하고자 했다. 

---
참고
2020년 배달의 민족 마이크로서비스 여행기 [https://youtu.be/BnS6343GTkY?si=J8ay9AZRMjk3m0zg](https://youtu.be/BnS6343GTkY?si=J8ay9AZRMjk3m0zg "https://youtu.be/BnS6343GTkY?si=J8ay9AZRMjk3m0zg")
